<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tr·∫°ng th√°i b√†i vi·∫øt</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
</head>
<body>
<div th:replace="~{navbar :: navbar}"></div>

<div th:replace="~{sidebar :: sidebar}"></div>
<div class="content" style="margin-left: 220px; padding: 20px;">
    <!-- Ph·∫ßn progress bar -->
    <div class="progress-container">
        <div class="progress-step completed">
            <div class="step-icon">üîÑ</div>
            <div class="step-label">Ch·ªù ph√™ duy·ªát</div>
            <div class="step-date">29/08/2024 01:21:39</div>
        </div>


        <div class="progress-step completed">
            <div class="step-icon">‚úÖ</div>
            <div class="step-label">ƒê√£ ph√™ duy·ªát</div>
            <div class="step-date">29/08/2024 01:21:55</div>
        </div>
        <div class="progress-step completed">
            <div class="step-icon">‚û°Ô∏è</div>
            <div class="step-label">ƒê√£ g·ª≠i cho ph√≤ng PR</div>
            <div class="step-date">29/08/2024 01:22:21</div>
        </div>
        <div class="progress-step">
            <div class="step-icon">‚è≥</div>
            <div class="step-label">ƒêang ch·ªù ƒëƒÉng</div>
            <div class="step-date">--/--/----</div>
        </div>
        <div class="progress-step">
            <div class="step-icon">üì¢</div>
            <div class="step-label">ƒê√£ ƒëƒÉng</div>
            <div class="step-date">--/--/----</div>
        </div>
    </div>

    <!-- Button to Open the Modal -->
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModal">
        L·ªãch s·ª≠
    </button>

    <!-- The Modal -->
    <div class="modal" id="myModal">
        <div class="modal-dialog">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">L·ªãch s·ª≠</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">
                    <table class="table table-hover">
                        <thead class="table-light">
                        <tr>
                            <th scope="col">Tr·∫°ng th√°i</th>
                            <th scope="col">Ng√†y t·∫°o</th>
                            <th scope="col">Ghi ch√∫</th>
                        </tr>
                        </thead>
                        <tr th:if="${listLSPDCT.isEmpty()}">
                            <td colspan="3" class="text-center">Th·∫•y g√¨ kh√¥ng, l√†m g√¨ c√≥ gi·ªØ li·ªáu</td>
                        </tr>
                        <tbody>
                        <tr th:each="step : ${listLSPDCT}">
                            <td th:text="${step.trangThai}"></td>
                            <td th:text="${step.ngayTao}"></td>
                            <td th:text="${step.ghiChu}"></td>
                        </tr>
                        </tbody>
                    </table>
                </div>

            </div>
        </div>
    </div>

    <div class="progress-bar-container">
        <div class="progress">
            <div class="progress-track">
                <!-- V√≤ng l·∫∑p qua t·ª´ng tr·∫°ng th√°i duy·ªát b√†i -->
                <th:block th:each="step : ${listLSPDCT}">
                    <!-- M·ªôt b∆∞·ªõc trong qu√° tr√¨nh duy·ªát -->
                    <div class="progress-step"
                         th:classappend="${step.trangThai == 'B·ªã t·ª´ ch·ªëi'} ? 'rejected' :
                                     (${step.trangThai == 'Ch·ªù ch·ªânh s·ª≠a'} ? 'pending-edit' :
                                     (${step.trangThai == 'ƒê√£ duy·ªát'} ? 'approved' : ''))">
                        <!-- Icon v√† tr·∫°ng th√°i h√†nh ƒë·ªông -->
                        <div th:text="${step.trangThai}"></div>
                        <div class="progress-icon">
                            <i th:if="${step.trangThai == 'ƒê√£ duy·ªát'}" class="fas fa-check-circle"></i>
                            <i th:if="${step.trangThai == 'Ch·ªù ch·ªânh s·ª≠a'}" class="fas fa-edit"></i>
                            <i th:if="${step.trangThai == 'B·ªã t·ª´ ch·ªëi'}" class="fas fa-times-circle"></i>
                        </div>
                        <!-- Th√¥ng tin th·ªùi gian v√† h√†nh ƒë·ªông -->
                        <div class="progress-info">
                            <p th:text="${step.hanhDong}">Y√™u c·∫ßu ch·ªânh s·ª≠a</p>
                            <small th:text="${step.ngayChinhSuaCuoi}">17/09/2024</small>
                        </div>
                    </div>
                </th:block>
            </div>
        </div>
    </div>

    <div class="article-info mt-4">
        <div class="d-flex align-items-center">
            <!-- Avatar -->
            <img src="https://via.placeholder.com/50" alt="Avatar" class="rounded-circle me-3" style="width: 50px; height: 50px;">

            <!-- Article Details -->
            <div>
                <h5 class="mb-1" th:text="${baiViet.tieuDe}">L·∫≠p tr√¨nh Java</h5>
                <p class="mb-1">
                    <span th:text="${baiViet.nguoiDung.ten}">V≈© Tr·ªçng Hi·∫øu</span>
                </p>
                <p class="text-muted mb-0" th:text="${baiViet.ngayTao}">29/08/2024 01:21</p>
            </div>
        </div>

        <hr>

        <!-- Article Content -->
        <div class="mt-3">
            <p th:text="${baiViet.noiDung}">L·∫≠p tr√¨nh Java swing CRUD 1 b·∫£ng v√† 2 b·∫£ng</p>
        </div>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- jQuery -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<!-- Moment.js -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>

<!-- Daterangepicker.js -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>

<style>
    body {
        font-family: Arial, sans-serif;
    }

    .progress-container {
        display: flex;
        justify-content: space-between;
        margin: 20px 0;
        padding: 20px;
        background-color: #f8f9fa;
        border-radius: 8px;
    }

    .progress-step {
        text-align: center;
        position: relative;
        flex-grow: 1;
    }

    .progress-step::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 0;
        height: 4px;
        width: 100%;
        background-color: #ccc;
        z-index: -1;
    }

    .progress-step:first-child::before {
        display: none;
    }

    .progress-step.completed::before {
        background-color: #007bff;
    }

    .step-icon {
        font-size: 24px;
        background-color: #007bff;
        color: white;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: inline-flex;
        justify-content: center;
        align-items: center;
        margin-bottom: 10px;
    }

    .completed .step-icon {
        background-color: #28a745;
    }

    .step-label {
        font-weight: bold;
        margin-bottom: 5px;
    }

    .step-date {
        font-size: 12px;
        color: #666;
    }

    .progress-step:not(.completed) .step-icon {
        background-color: #ccc;
    }
</style>
</body>
</html>